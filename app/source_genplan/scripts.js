
    var genplanData = {
            "1": {
                "number": 58,
                "square": "12.0 соток",
                "status": "Продано"
            },
            "3": {
                "number": 59,
                "square": "8.9 соток",
                "status": "Свободно"
            },
            "4": {
                "number": 65,
                "square": "10.4 соток",
                "status": "Свободно"
            },
            "5": {
                "number": 66,
                "square": "12.2 соток",
                "status": "Забронировано"
            },
            "6": {
                "number": 67,
                "square": "13.4 соток",
                "status": "Забронировано"
            },
            "7": {
                "number": 68,
                "square": "13.4 соток",
                "status": "Забронировано"
            },
            "8": {
                "number": 69,
                "square": "14.6 соток",
                "status": "Свободно"
            },
            "9": {
                "number": 70,
                "square": "6.9 соток",
                "status": "Свободно"
            },
            "10": {
                "number": 71,
                "square": "9.7 соток",
                "status": "Свободно"
            },
            "11": {
                "number": 73,
                "square": "9.3 соток",
                "status": "Продано"
            },
            "12": {
                "number": 72,
                "square": "8.9 соток",
                "status": "Свободно"
            },
            "13": {
                "number": 74,
                "square": "14.0 соток",
                "status": "Свободно"
            },
            "14": {
                "number": 76,
                "square": "8.6 соток",
                "status": "Забронировано"
            },
            "15": {
                "number": 75,
                "square": "7.6 соток",
                "status": "Забронировано"
            },
            "16": {
                "number": 77,
                "square": "14.6 соток",
                "status": "Свободно"
            },
            "17": {
                "number": 78,
                "square": "13.5 соток",
                "status": "Свободно"
            },
            "18": {
                "number": 79,
                "square": "11.2 соток",
                "status": "Свободно"
            },
            "19": {
                "number": 80,
                "square": "12.7 соток",
                "status": "Продано"
            },
            "20": {
                "number": 81,
                "square": "19.7 соток",
                "status": "Свободно"
            },
            "21": {
                "number": 82,
                "square": "18.3 соток",
                "status": "Свободно"
            },
            "22": {
                "number": 83,
                "square": "13.4 соток",
                "status": "Свободно"
            },
            "23": {
                "number": 84,
                "square": "16.7 соток",
                "status": "Свободно"
            },
            "24": {
                "number": 85,
                "square": "19.5 соток",
                "status": "Свободно"
            },
            "25": {
                "number": 86,
                "square": "7.9 соток",
                "status": "Продано"
            },
            "26": {
                "number": "88",
                "square": "7.9 соток",
                "status": "Свободно"
            },
            "27": {
                "number": 2,
                "square": "11.3 соток",
                "status": "Свободно"
            },
            "28": {
                "number": 3,
                "square": "10.7 соток",
                "status": "Свободно"
            },
            "29": {
                "number": 4,
                "square": "10.5 соток",
                "status": "Продано"
            },
            "30": {
                "number": 5,
                "square": "10.6 соток",
                "status": "Продано"
            },
            "31": {
                "number": 6,
                "square": "10.8 соток",
                "status": "Продано"
            },
            "32": {
                "number": 7,
                "square": "14.9 соток",
                "status": "Свободно"
            },
            "33": {
                "number": 11,
                "square": "14.0 соток",
                "status": "Свободно"
            },
            "34": {
                "number": 10,
                "square": "10.0 соток",
                "status": "Свободно"
            },
            "35": {
                "number": 9,
                "square": "10.4 соток",
                "status": "Свободно"
            },
            "36": {
                "number": 8,
                "square": "8.4 соток",
                "status": "Продано"
            },
            "37": {
                "number": 12,
                "square": "16.0 соток",
                "status": "Забронировано"
            },
            "38": {
                "number": 13,
                "square": "10.4 соток",
                "status": "Свободно"
            },
            "39": {
                "number": 14,
                "square": "11.2 соток",
                "status": "Свободно"
            },
            "40": {
                "number": 15,
                "square": "12.8 соток",
                "status": "Свободно"
            },
            "41": {
                "number": 16,
                "square": "10.1 соток",
                "status": "Продано"
            },
            "42": {
                "number": 17,
                "square": "10.8 соток",
                "status": "Свободно"
            },
            "43": {
                "number": 18,
                "square": "10.3 соток",
                "status": "Свободно"
            },
            "44": {
                "number": 19,
                "square": "15.9 соток",
                "status": "Свободно"
            },
            "45": {
                "number": 20,
                "square": "11.7 соток",
                "status": "Свободно"
            },
            "46": {
                "number": 21,
                "square": "9.3 соток",
                "status": "Свободно"
            },
            "47": {
                "number": 22,
                "square": "11.9 соток",
                "status": "Свободно"
            },
            "48": {
                "number": 23,
                "square": "12.9 соток",
                "status": "Свободно"
            },
            "49": {
                "number": 24,
                "square": "13.6 соток",
                "status": "Свободно"
            },
            "50": {
                "number": 25,
                "square": "8.9 соток",
                "status": "Свободно"
            },
            "51": {
                "number": 26,
                "square": "9.6 соток",
                "status": "Свободно"
            },
            "52": {
                "number": 27,
                "square": "9.7 соток",
                "status": "Свободно"
            },
            "53": {
                "number": 28,
                "square": "19.4 соток",
                "status": "Свободно"
            },
            "54": {
                "number": 29,
                "square": "15.7 соток",
                "status": "Свободно"
            },
            "55": {
                "number": 30,
                "square": "31.9 сотка",
                "status": "Свободно"
            },
            "56": {
                "number": 31,
                "square": "15.4 соток",
                "status": "Забронировано"
            },
            "57": {
                "number": 32,
                "square": "13.7 соток",
                "status": "Забронировано"
            },
            "58": {
                "number": 33,
                "square": "13.7 соток",
                "status": "Свободно"
            },
            "59": {
                "number": 34,
                "square": "13.7 соток",
                "status": "Забронировано"
            },
            "60": {
                "number": 51,
                "square": "10.9 соток",
                "status": "Свободно"
            },
            "61": {
                "number": 50,
                "square": "10.2 соток",
                "status": "Свободно"
            },
            "62": {
                "number": 45,
                "square": "10.8 соток",
                "status": "Свободно"
            },
            "63": {
                "number": 44,
                "square": "10.1 соток",
                "status": "Свободно"
            },
            "64": {
                "number": 43,
                "square": "15.3 соток",
                "status": "Свободно"
            },
            "65": {
                "number": 42,
                "square": "9.1 соток",
                "status": "Свободно"
            },
            "66": {
                "number": 41,
                "square": "10.0 соток",
                "status": "Свободно"
            },
            "67": {
                "number": 40,
                "square": "10.5 соток",
                "status": "Свободно"
            },
            "68": {
                "number": 35,
                "square": "16.9 соток",
                "status": "Свободно"
            },
            "69": {
                "number": 36,
                "square": "14.0 соток",
                "status": "Свободно"
            },
            "70": {
                "number": 37,
                "square": "12.0 соток",
                "status": "Свободно"
            },
            "71": {
                "number": 38,
                "square": "9.9 соток",
                "status": "Свободно"
            },
            "72": {
                "number": 39,
                "square": "12.2 соток",
                "status": "Свободно"
            },
            "73": {
                "number": 49,
                "square": "17.4 соток",
                "status": "Свободно"
            },
            "74": {
                "number": 48,
                "square": "13.5 соток",
                "status": "Свободно"
            },
            "75": {
                "number": 47,
                "square": "15.4 соток",
                "status": "Свободно"
            },
            "76": {
                "number": 46,
                "square": "12.1 соток",
                "status": "Свободно"
            },
            "77": {
                "number": 64,
                "square": "6.9 соток",
                "status": "Свободно"
            },
            "78": {
                "number": 63,
                "square": "10.6 соток",
                "status": "Свободно"
            },
            "79": {
                "number": 62,
                "square": "14.9 соток",
                "status": "Свободно"
            },
            "80": {
                "number": 61,
                "square": "11.1 соток",
                "status": "Свободно"
            },
            "81": {
                "number": 60,
                "square": "7.0 соток",
                "status": "Свободно"
            },
            "82": {
                "number": 56,
                "square": "11.3 соток",
                "status": "Свободно"
            },
            "83": {
                "number": 57,
                "square": "11.0 соток",
                "status": "Свободно"
            },
            "84": {
                "number": 55,
                "square": "10.2 соток",
                "status": "Свободно"
            },
            "85": {
                "number": 54,
                "square": "16.0 соток",
                "status": "Забронировано"
            },
            "86": {
                "number": 53,
                "square": "14.7 соток",
                "status": "Забронировано"
            },
            "87": {
                "number": 52,
                "square": "16.2 соток>",
                "status": "Забронировано"
            },
            "88": {
                "number": 87,
                "square": "8.1 сотка",
                "status": "Продано"
            }
        }
    var commonItems = {
        1: {
            name: "Спортивная площадка"
        },
        2: {
            name: "Детская площадка"
        },
        3: {
            name: "Места для отдыха"
        },
        4: {
            name: "Место для рыбалки"
        },
        5: {
            name: "Места для отдыха"
        },
        6: {
            name: "Детская площадка"
        },
        7: {
            name: "Спортивная площадка"
        },

        8: {
            name: "Гостевая парковка <br> ТБО <br> Магазин"
        },
        9: {
            name: "Тропа здоровья"
        },
        10: {
            name: "Тропа здоровья"
        },
        11: {
            name: "Тропа здоровья"
        },
        12: {
            name: "Тропа здоровья"
        },
        13: {
            name: "Тропа здоровья"
        },
        14: {
            name: "Мостик через р. Сумку"
        },
        15: {
            name: "Пост охраны"
        },
        16: {
            name: "Место для отдыха"
        },
        17: {
            name: "Магазин"
        },
        18: {
            name: "Гостевая парковка"
        },
        19: {
            name: "ТБО"
        },
        20: {
            name: "Въездная группа"
        },
        21: {
            name: "Тропа здоровья"
        },
        22: {
            name: "Тропа здоровья"
        },
        23: {
            name: "Тропа здоровья"
        },
        24: {
            name: "Тропа здоровья"
        },
        25: {
            name: "Место для вело- и лыжных прогулок"
        },
        26: {
            name: "Место для вело- и лыжных прогулок"
        },
        27: {
            name: "Место для отдыха"
        },
    };

    document.body.append(document.querySelector(".mobile-modal"))


    var areaMap = document.querySelector('#genplan-svg')
    if (areaMap) {
        var area = areaMap.parentNode.parentNode.parentNode;

        var panzoom = Panzoom(area, {
            maxScale: 4,
            minScale: 1,
            contain: 'outside',
            startScale: 1
        });
        if ((window.matchMedia("(max-width: 550px)").matches)) {
            area.style.width = "950px";
        }
        $(document).on('click', ".zoom-in", panzoom.zoomIn)
        $(document).on('click', ".zoom-out", panzoom.zoomOut)
        area.addEventListener("panzoomstart", function () {
            //  $(areaMap.parentNode.parentNode).prev().hide(100)
            $('[data-elem-id="1629746563560"]').hide(100);
        })


        for (var key in genplanData) {
            var thisData = genplanData[key];
            var selector = "[data-id='" + key + "']";
            var content = "Номер: " + thisData.number + "<br>" + "Площадь: " + thisData.square + "<br>" + "Статус: " + thisData.status;
            if (thisData.status === "Свободно") {
                content += `
        <br>
        <a href="#lid-form" class="call-consultant-btn">Забронировать</a>
        `;
            }

            if (thisData.status === "Продано" || thisData.status === "Забронировано") {
                $(selector).css("fill", "#7a3145")
            }
            tippy(selector, {
                content: content,
                allowHTML: true,
                interactive: true,
                appendTo: document.body,
            });

            let mobileContent = `
      <div class="mobile-modal__title">${thisData.status === "Продано" ? "Участок продан" : (thisData.status === "Забронировано" ? "Участок забронирован" : "Участок продается")}</div>
      <div class="mobile-modal__row">
        <div>
            <div>Участок</div>
             <div>№${thisData.number}</div> 
        </div>
        <div> 
           <div>Площадь</div>
           <div>${thisData.square}</div> 
        </div>
      </div>
      <div class="mobile-modal__message">
      ${thisData.status === "Продано" ? "К сожалению данный участок уже продан" : (thisData.status === "Забронировано" ? "Участок забронирован" : "Данный участок пока продается")}
      </div>
      ${thisData.status === "Свободно" ?
                    '<a href="#lid-form" class="call-consultant-btn">Забронировать</a>' :
                    ''
                }
      `

            $(selector).on("click", function () {
                console.log(selector)
                if ($(document.body).innerWidth() < 576) {
                    if ($(".mobile-modal").css("display") !== "none") {
                        $(".mobile-modal").fadeOut(100)
                    }
                    $(".mobile-modal").fadeIn(300)
                    $(".mobile-modal__inner").html(mobileContent)
                }

            })

        };

        for (var key in commonItems) {
            var thisData = commonItems[key];
            var selector = "[data-common-id='" + key + "']";
            var content = thisData.name;


            tippy(selector, {
                interactive: true,
                appendTo: document.body,
                content: content,
                allowHTML: true,
            });


            let mobileContent = `
      <div class="mobile-modal__title">${thisData.name}</div>
      `

            $(selector).on("click", function () {
                console.log(selector)
                if ($(document.body).innerWidth() < 576) {
                    if ($(".mobile-modal").css("display") !== "none") {
                        $(".mobile-modal").fadeOut(100)
                    }
                    $(".mobile-modal").fadeIn(300)
                    $(".mobile-modal__inner").html(mobileContent)
                }

            })
        };
    }

    $(document).on("click", function (e) {
        if (e.target.closest(".st0") || e.target.closest(".mobile-modal")) {
            return
        } else {
            $(".mobile-modal").fadeOut(300)
        }
    })
    $(".mobile-modal").parent().parent().css("z-index", 1000000002)